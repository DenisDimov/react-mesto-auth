{"version":3,"sources":["image/logo.svg","components/Header.jsx","contexts/CurrentUserContext.jsx","components/Card.jsx","components/Main.jsx","components/Footer.jsx","components/PopupWithForm.jsx","components/ImagePopup.jsx","utils/Api.js","hooks/useForm.jsx","components/EditProfilePopup.jsx","components/EditAvatarPopup.jsx","components/AddPlacePopup.jsx","components/Login.jsx","components/Register.jsx","components/ProtectedRoute.jsx","components/InfoTooltip.jsx","image/success.png","image/fail.png","utils/Auth.js","components/App.jsx","index.js"],"names":["Header","userData","signOut","email","className","src","Logo","alt","exact","path","to","onClick","CurrentUserContext","createContext","Card","onCardClick","onCardLike","card","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","type","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","Footer","date","Date","getFullYear","PopupWithForm","title","isOpen","children","onClose","onSubmit","buttonText","isDisabled","noValidate","disabled","ImagePopup","api","config","this","_url","url","_headers","headers","fetch","method","then","_handleResponse","body","JSON","stringify","id","like","cardId","res","ok","json","Promise","reject","status","authorization","useFormWithValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","e","input","target","value","prevState","validationMessage","closest","checkValidity","EditProfilePopup","onUpdateUser","useEffect","description","preventDefault","required","minLength","onChange","placeholder","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","place","Link","maxLength","Login","button","onLogin","password","autoComplete","Register","onRegister","ProtectedRoute","Component","component","props","loggedIn","InfoTooltip","statusReg","statusLogin","BASE_URL","handleResponse","App","isEditProfilePopupOpen","setisEditProfilePopupOpen","isAddPlacePopupOpen","setisAddPlacePopupOpen","isEditAvatarPopupOpen","setisEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","history","useHistory","setLoggedIn","setUserData","isInfoTooltip","setIsInfoTooltip","setStatusReg","getInitialCards","catch","err","console","log","getUserData","data","jwt","localStorage","getItem","tokenCheck","handleToolTips","closeAllPopups","handleLogin","token","Accept","Authorization","push","handleCloseByOverlay","classList","contains","document","addEventListener","removeEventListener","handleCloseByEscape","key","Provider","removeItem","setItem","Auth","setTimeout","setLike","newCard","item","deleteCard","filter","setUserInfo","addCard","setNewAvatar","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bee53c69.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import Logo from '../image/logo.svg';\r\nimport { Link, Route } from 'react-router-dom';\r\n\r\nconst Header = ({ userData, signOut }) => {\r\n  const { email } = userData;\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={Logo} alt=\"лого\" />\r\n      <Route exact path=\"/sign-in\">\r\n        <Link to=\"sign-up\" className=\"header__title\">\r\n          Регистрация\r\n        </Link>\r\n      </Route>\r\n      <Route exact path=\"/sign-up\">\r\n        <Link to=\"sign-in\" className=\"header__title\">\r\n          Войти\r\n        </Link>\r\n      </Route>\r\n      <Route exact path=\"/main\">\r\n        <p className=\"header__profile\">{email}</p>\r\n        <button onClick={signOut} className=\"header__title\">\r\n          Выйти\r\n        </button>\r\n      </Route>\r\n    </header>\r\n  );\r\n};\r\nexport default Header;\r\n","import {createContext} from \"react\";\r\n\r\nexport const CurrentUserContext = createContext();","import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useContext } from 'react';\r\n\r\nconst Card = ({ onCardClick, onCardLike, card, onCardDelete }) => {\r\n\r\n  const handleClick = () => onCardClick(card);\r\n  const handleLikeClick = () => onCardLike(card);\r\n  const handleDeleteClick = () => onCardDelete(card)\r\n\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `card__delete ${isOwn ? `card__delete_active` : ''}`;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `card__icon ${isLiked ? `card__icon_active` : `card__icon`}`;\r\n\r\n  return (\r\n    <li className=\"card__item\">\r\n      <div\r\n        className=\"card__image\"\r\n        style={{ backgroundImage: `url(${card.link})` }}\r\n        onClick={handleClick}></div>\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n      <div className=\"card__inner\">\r\n        <h3 className=\"card__title\">{card.name}</h3>\r\n        <div className=\"card__container-likes\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}>\r\n          </button>\r\n          <p className=\"card__like\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useContext } from 'react';\r\n\r\n\r\nconst Main = ({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, onCardLike, onCardDelete, cards }) => {\r\n  const currentUser = useContext(CurrentUserContext);\r\n \r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__avatar\" />\r\n        <div onClick={onEditAvatar} className=\"profile__avatar-edit\"></div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <button onClick={onEditProfile} className=\"profile__btn\" type=\"button\"></button>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button onClick={onAddPlace} className=\"profile__add-card\" type=\"button\"></button>\r\n      </section>\r\n      <section className=\"cards\">\r\n        <ul className=\"card\">\r\n          {cards.map((card) => {\r\n            return (\r\n              <Card key={card._id} onCardClick={onCardClick} onCardLike={onCardLike} card={card} onCardDelete={onCardDelete}/>\r\n            );\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","const Footer = () => {\r\n\r\n  const date = new Date()\r\n\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__paragraph\">&copy;{date.getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","const PopupWithForm = ({ name, title, isOpen, children, onClose, onSubmit, buttonText, isDisabled }) => {\r\n  return (\r\n    <div className={`popup ${isOpen ? `popup_opened` : ''}`}>\r\n      <div className=\"popup__container\">\r\n        <button className=\"popup__close popup__close_edit\" type=\"button\" onClick={onClose}></button>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form className=\"form form_type_edit popup__form\" name={`${name}`} onSubmit={onSubmit} noValidate>\r\n          {children}\r\n          <button className={`form__btn popup__button ${isDisabled && `form__submit_inactive`}`} type=\"submit\" disabled={isDisabled}>\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopupWithForm;\r\n","const ImagePopup = ({card, onClose}) => {\r\n\r\n  return (\r\n    <div className={`popup popup_type_image ${card && 'popup_opened'}`}>\r\n    <div className=\"popup__container popup__container_type_image\">\r\n      <button onClick={onClose}\r\n        className=\"popup__close popup__close_image\"\r\n        type=\"button\"\r\n      ></button>\r\n      <div className=\"popup__image\" style={{ backgroundImage: `url(${card ? card.link : ''})` }}></div>\r\n      <h3 className=\"popup__image-title\">{`${card ? card.name : ''}`}</h3>\r\n    </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup","class Api {\r\n  constructor(config) {\r\n    this._url = config.url;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  getUserData() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setUserInfo(name, about) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    }).then(this._handleResponse);;\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setLike(id, like) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: like ? 'DELETE' : 'PUT',\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setNewAvatar(avatar) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatar,\r\n      }),\r\n    }).then(this._handleResponse);;\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n}\r\n\r\n\r\nconst api = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-26\",\r\n  headers: {\r\n    authorization: \"8e37e821-e67f-473b-8051-550ef708d095\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api\r\n","import { useCallback, useState } from 'react';\r\n\r\nexport const useFormWithValidation = () => {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const input = e.target;\r\n    const value = input.value;\r\n    const name = input.name;\r\n\r\n    setValues((prevState) => ({ ...prevState, [name]: value }));\r\n    setErrors((prevState) => ({ ...prevState, [name]: input.validationMessage }));\r\n    setIsValid(input.closest('form').checkValidity());\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return { values, errors, isValid, handleChange, setValues, resetForm };\r\n};\r\n","import PopupWithForm from './PopupWithForm';\r\nimport { useEffect, useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\n\r\nconst EditProfilePopup = ({ isOpen, onClose, onUpdateUser }) => {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const { values, setValues, handleChange, errors, isValid, resetForm } = useFormWithValidation();\r\n\r\n  useEffect(() => {\r\n    resetForm();\r\n  }, [isOpen, resetForm]);\r\n\r\n  useEffect(() => {\r\n    setValues({\r\n      ...values,\r\n      name: currentUser.name,\r\n      description: currentUser.about,\r\n    });\r\n    // eslint-disable-next-line\r\n  }, [currentUser, isOpen]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name: values.name,\r\n      about: values.description,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isDisabled={!isValid}\r\n      onSubmit={handleSubmit}\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText=\"Сохранить\">\r\n      <input\r\n        required\r\n        minLength=\"2\"\r\n        onChange={handleChange}\r\n        id=\"name\"\r\n        name=\"name\"\r\n        value={values.name || ''}\r\n        type=\"text\"\r\n        placeholder=\"Имя\"\r\n        className={`form__item popup__input ${errors.name && 'popup__input_type_error'}`}\r\n      />\r\n      <span\r\n        className={`form__input-error ${errors.name && 'form__input-error_active'}`}\r\n        id=\"name-error\">\r\n        {errors.name}\r\n      </span>\r\n      <input\r\n        minLength=\"2\"\r\n        required\r\n        onChange={handleChange}\r\n        id=\"job\"\r\n        name=\"description\"\r\n        value={values.description || ''}\r\n        type=\"text\"\r\n        placeholder=\"Вид деятельности\"\r\n        className={`form__item popup__input ${errors.description && 'popup__input_type_error'}`}\r\n      />\r\n      <span\r\n        className={`form__input-error ${errors.description && 'form__input-error_active'}`}\r\n        id=\"job-error\">\r\n        {errors.description}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditProfilePopup;\r\n","import { useEffect } from 'react';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nconst EditAvatarPopup = ({ isOpen, onClose, onUpdateAvatar }) => {\r\n  const { values, handleChange, errors, isValid, resetForm } = useFormWithValidation();\r\n\r\n  useEffect(() => {\r\n    resetForm()\r\n  }, [isOpen, resetForm])\r\n\r\n  const HandleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: values.url,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={HandleSubmit}\r\n      title=\"Обновить аватар\"\r\n      isDisabled={!isValid}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText=\"Сохранить\">\r\n      <input\r\n        onChange={handleChange}\r\n        required\r\n        name=\"url\"\r\n        id=\"avatar\"\r\n        value={values.url || ''}\r\n        type=\"url\"\r\n        placeholder=\"Название\"\r\n        className={`form__item popup__input ${errors.url && 'popup__input_type_error'}`}\r\n      />\r\n      <span\r\n        className={`form__input-error ${errors.url && 'form__input-error_active'}`}\r\n        id=\"avatar-error\">\r\n        {errors.url}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditAvatarPopup;\r\n","import PopupWithForm from './PopupWithForm';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\nimport { useEffect } from 'react';\r\n\r\nconst AddPlacePopup = ({ isOpen, onClose, onAddPlace }) => {\r\n  const { values, handleChange, errors, isValid, resetForm } = useFormWithValidation();\r\n\r\n  useEffect(() => {\r\n    resetForm()\r\n  }, [isOpen, resetForm])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name: values.place,\r\n      link: values.Link,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isDisabled={!isValid}\r\n      name=\"new-card\"\r\n      title=\"Новое место\"\r\n      isOpen={isOpen}\r\n      onSubmit={handleSubmit}\r\n      onClose={onClose}\r\n      buttonText=\"Сохранить\">\r\n      <input\r\n        onChange={handleChange}\r\n        required\r\n        minLength='2'\r\n        maxLength='30'\r\n        value={values.place || ''}\r\n        type=\"text\"\r\n        id=\"place-name\"\r\n        name=\"place\"\r\n        placeholder=\"Название\"\r\n        className={`form__item popup__input ${errors.place && 'popup__input_type_error'}`}\r\n      />\r\n      <span className={`form__input-error ${errors.place && 'form__input-error_active'}`} id=\"place-name-error\">\r\n        {errors.place}\r\n      </span>\r\n      <input\r\n        onChange={handleChange}\r\n        required\r\n        value={values.Link || ''}\r\n        type=\"url\"\r\n        id=\"place-link\"\r\n        name=\"Link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        className={`form__item popup__input ${errors.Link && 'popup__input_type_error'}`}\r\n      />\r\n      <span className={`form__input-error ${errors.Link && 'form__input-error_active'}`} id=\"place-link-error\">\r\n        {errors.Link}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default AddPlacePopup;\r\n","import { useFormWithValidation } from '../hooks/useForm';\r\n\r\nconst Login = ({ title, button, onLogin }) => {\r\n  const { values, handleChange, errors, isValid } = useFormWithValidation();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!values.email || !values.password) {\r\n      return;\r\n    }\r\n    onLogin(values.email, values.password);\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <p className=\"auth__header\">{title}</p>\r\n      <form className=\"auth__form\" onSubmit={handleSubmit} noValidate>\r\n        <input\r\n          required\r\n          id=\"email\"\r\n          name=\"email\"\r\n          className={`auth__input ${errors.email && 'auth__input_type_error'}`}\r\n          placeholder=\"Email\"\r\n          type=\"email\"\r\n          value={values.email || ''}\r\n          onChange={handleChange}></input>\r\n        <span\r\n          className={`auth__input-error ${errors.email && 'auth__input-error_active'}`}\r\n          id=\"password-error\">\r\n          {errors.email}\r\n        </span>\r\n        <input\r\n          id=\"password\"\r\n          noValidate\r\n          required\r\n          minLength=\"4\"\r\n          name=\"password\"\r\n          className={`auth__input ${errors.password && 'auth__input_type_error'}`}\r\n          placeholder=\"Password\"\r\n          type=\"password\"\r\n          autoComplete=\"off\"\r\n          value={values.password || ''}\r\n          onChange={handleChange}></input>\r\n        <span\r\n          className={`auth__input-error ${errors.password && 'auth__input-error_active'}`}\r\n          id=\"password-error\">\r\n          {errors.password}\r\n        </span>\r\n        <button className={`auth__btn ${!isValid && 'auth__btn_inactive'}`} disabled={!isValid}>\r\n          {button}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { Link } from 'react-router-dom';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\n\r\nconst Register = ({ title, button, onRegister }) => {\r\n  const { values, handleChange, errors, isValid } = useFormWithValidation();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onRegister(values.email, values.password);\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <p className=\"auth__header\">{title}</p>\r\n      <form className=\"auth__form\" onSubmit={handleSubmit} noValidate>\r\n        <input\r\n          required\r\n          id=\"email\"\r\n          name=\"email\"\r\n          className={`auth__input ${errors.email && 'auth__input_type_error'}`}\r\n          placeholder=\"Email\"\r\n          type=\"email\"\r\n          value={values.email || ''}\r\n          onChange={handleChange}></input>\r\n        <span\r\n          className={`auth__input-error ${errors.email && 'auth__input-error_active'}`}\r\n          id=\"email-error\">\r\n          {errors.email}\r\n        </span>\r\n        <input\r\n          required\r\n          noValidate\r\n          minLength=\"4\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          className={`auth__input ${errors.password && 'auth__input_type_error'}`}\r\n          placeholder=\"Password\"\r\n          type=\"password\"\r\n          value={values.password || ''}\r\n          onChange={handleChange}\r\n          autoComplete=\"off\"></input>\r\n        <span\r\n          className={`auth__input-error ${errors.password && 'auth__input-error_active'}`}\r\n          id=\"password-error\">\r\n          {errors.password}\r\n        </span>\r\n        <button className={`auth__btn ${!isValid && 'auth__btn_inactive'}`} disabled={!isValid}>\r\n          {button}\r\n        </button>\r\n      </form>\r\n      <div className=\"auth__signin\">\r\n        <p className=\"auth__subtitle\">Уже зарегистрированы?</p>\r\n        <Link to=\"sign-in\" className=\"auth__login-link\">\r\n          Войти\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>{() => (props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />)}</Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import success from '../image/success.png';\r\nimport fail from '../image/fail.png';\r\n\r\nconst InfoTooltip = ({ isOpen, onClose, statusReg, statusLogin }) => {\r\n  return (\r\n    <div className={`popup ${isOpen ? `popup_opened` : ''}`}>\r\n      <div className=\"popup__container popup__container_type_reg\">\r\n        {statusReg === '' ? (\r\n          <>\r\n            <img src={success} className=\"popup__registration\" alt=\"успешно\"></img>\r\n            <button onClick={onClose} className=\"popup__close\"></button>\r\n            <p className=\"popup__title popup__title_type_reg\">Вы успешно зарегистрировались!</p>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <img src={fail} className=\"popup__registration\" alt=\"попробуйте еще раз\"></img>\r\n            <button onClick={onClose} className=\"popup__close\"></button>\r\n            <p className=\"popup__title popup__title_type_reg\">\r\n              Что-то пошло не так! Попробуйте еще раз!\r\n            </p>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InfoTooltip;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfgSURBVHgB7Z2Llds2EEWf00A2FWg68HYgpIJsB2IHdgdiB3YH2lSw7kByBbErWKUCbypwOCJpDUDwJ/EDkHPPwRFXJFckHmYw+BB8h2XwkKXHLFGW3hd/U5HK/Q+e885ZehPpW/H5XWxHzTvEiUEuJH+Wwo7BGbnQJ+Sin6CMAlvfhywds/QjSz9nSvzbL1naYbxCNSghWzCLyhn5hNxSm2BXekZubWcnMf/B7243WfojS7/j6tIfcXX5D2jmlKXnLH0Vv6W0YLJ0QLOlvhbHcAHYYDxY5KT4rVc0W/cB7QVx1RjkLrguA3kfu+kxBW2DkAvedJ3/IC94SoFBvXWUora5yjkg5GKzoHVeZtVCG/gtgV3zpyxtEQ/sytlF1wltsCII9cLuEaa1doWQF06fRzogksj7Hj6iGjwtQVgXQn5PvkKcYoEQ/FbLpXpJwroQ/K77FQuyZp/VcmCyxXogVN0258lHRAxb5mdUS+8e68Xntj8hQgjV5gOX4EcohKo1R+WyWUT3BriULrmu7QvnBedJdCJzv7Fb336AUgfXwW69/IRASVC9WHXJ7fg83g6BkWDBzYAJIAQscgIVdwgIAYr8BBV3SAhVkWerkwl2QKXiDgPBFnmWWIaci1Bxh4Uwc/6quONDsD0kdxxN0pfgdj9qU2g8OG8n7dZ0G+baiTE+bp6PNkBBsF1GlJ3kkSK7NVkDwgi49a72LU8H57XM/yMGJoXtJgjK1Lj18WCummC75j2UueC8H9xVH2C7ZmVe5Dj73a7aQF1zaBjYmhjcgazYD1BCQXrVm604gVpvqHBULeMigxuQ1quBVXjIgKt3bJRA+5pD5y4rlpGa9liFi7TiznWxgda9sXCTFcsITSPn8JH91K16EXQoMDYM7N6txjGCBPYAsxIHXP92GsKVB+6gxAKL2hpsETS4ihV2y1K7X276N3GQEdsn6LJAMfEGe5G2X95XCvyX2H6G0hUORFPMzxex7Z1LLdtTBKULLG6ZbynmhWBH0xYGOubblwTVJylTzIscPzByh4zCWhvLSmWkLRSRZSeV1Vx6gTaPupKgXty5RU7ENbzIHdK0tfeqnhTt4pZpjgVWCJ6qVrahfkCpI0V3cTlz5zIUGRdc2sMGHXpBVk6KfuIS5kMO9RpuB78XO6Nfwn4EUnSf0XLO0p+Yt5Pom9jesMAPNTuV+MSF8/uPLPBjzc61kyI+cZl/xfbFeLneLX32FgrzjHjqXBcDJ6aSlbI2kfqJy3lHCAuC01R6FV9ssF7YnT2jn7ihrkRvCSwvOjSmykD+nbql+WMSl6n0a4QqMGGaF1z0FfeA8J+NtjQNVWB2L+V1jTU3m9Bf3BgIXuAU40erhPZ3IcUoLhO0wAmaM3qITnxCP3H3iAtL00rn9IwQumX8AbdbM2HZ4jKWwPJmN5iXI7pnPF9333Y7YfniEuw8CkZgQr/ML1M60v+PUVxGLtZyeXjhKL7YYl4I9W8Qa0ptPUq+RbeXKC5jcL0P1tbK0B3CwPcqni4u23f9jz3/V8ziMgmu93KZtiOfTgvp5gi3uWz5ApC+4u4QP6yhpWcivjggPNy3k3S15r5eYAniMnIC5WVmpYFTKQdIgtusuUviQrAUcZkjYMdUsUy6I/RrRnUVd2lDpN5+jVfx5QZhs4eKW4dsIlnGGtvEd8J9LpvPXeLkhgTXe7xE0OXThSdxkEH4nJHPgXpGf87FuUucYLgV2ye5w8Au3THRJ1rmeyMsF+nVtu5OmUkbxAWh3WUvXVxCS7B8hNN+ipA91ikuk8Cpf106LeQRAfx0u7TmNYjLSAPd+Q6oXcgjQgj5DYc4rXUMCLZ2VHfgEty0JOZC2ocEHb3vUtz02pATB3dNBw6y0LQyKe7bWKjthIM4eKzpqspwSL0OXU4wsNtTa6nHYoRgW++264ky2NpDCRU5Vt5rqNdArTh0CHZ7f9f3H8iT1YrDI8Wd4wcGasWhQrDr3t7WWyLr4k4RmjIJMnK+yXpLDOySYqDMDeHGyLkOacWhTspbEzI2GsSrEvT1sqGQwo6LCAPhvkdeF2uZHoKtweCGJl01uwmNqqfDfcX7XYFVHQTbVWs/9XR8xkiu2cV11XMsmbs23DwffZzefVZI6+PxcIcCJ/Ga7rJDo7qMFUOYoN7t8+MEZSgIAeSv++ytijwMBFvcWT3kE9Y3/3hMCNUJ/E+YmQQq8hAQquLuEAgJVOR7IAQsbkmCqsjahGrHt45IcOKWcH3hXqx2htTjdmJw3s1e57ZBqLobufKNkueF7H6MzuMRqiJrvZzjW5Qt2meofEsgpVgvKar5Eb138z2BvzZrNqguPM55soQH/C4Q/E/gH7Bsodky+R7d+z5iofe9h389jRTLumEWNkX1XhdltXUQ/KWaLfwT4ha6TthFW20dW9QvnMIFIKZOEoO8cNYJu8WKSVAvdPlaHUJ4sLWyu2UBfdfO97RqYV0SNL/ihjNybrEJzaKqxXaAM4dd9M+G9Focw4KP6coJecE7oHkdrh/FMcEJ+w7hQsjrth3aH5l5Q740YfnJr1g9F3+/wf/a1wdcOxioSJvi87H4bOuAOGXpS5b+hr5c+y4IuSW9oP9S/0Mm/u0jcjcdRe9TyBbcBLtCtjKDq7WNwRm5RzgVn18RGbEK7MLW9B652A/is0zkOad038wZV5f+rdj+jgW43f8BuLuyYlOAddYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAo/SURBVHgB7Z0Bdto4EIZHNhC67XubnmC5QblBsifY3CDZEzQ3aPYE6Q2SvUFuUHqCpicIe4LS9/pa2tjWzgjbyLIMBmxLMvre4+EUKLZ+z0iMpBkGPYCfnp5Gy+WUxfGEBcEb4PyUMTbBlybidfwbGDtVP8cA5vi0EA/OFxzgEd+3SOL48+DVq0e2WCzAcRg4yPN4fB5w/oZxfo6CTHkqZAvM8TseOWMzEn0YRTNwDCcEJgtNfvy4xJO9QGuc6qyxmxPhCzyHWRIED88AH18sl3OwHGsFLogKcL75zXyBos9R/Edyu2jdcwjDOaxcMMB4/FXnbvl4/MdzHL8ehuHvgO49QbeOn5/i8ymrcSMJsRm7t1ls6wQW7jdJLvHwYkMDk5izEB8o5Iwtl/9BC/waDqcBCo79+Rk+zjd2BZzfJ0nyr4tuvBNI2OTk5EN8csJ1j4heGw7fktWBIfC7J9FweBVtOE+8hk/ReHwJnhWpsE8bRUV3DZaRiY3n+alC7KejFrrSYkejL/h8yweDM3AEcuV43ndVQj8PBudwLNCdXynsaPTORmutC10b3Zxaj4Q3wA98HfoMXuh1aqG9ElZFCD0ev6u4iW+gb2yw2rs+CasihNa77qfeWLPOammk6VIfeyjpDf6kGWtcg6uQZeIFvNdY7Ts4UrRuezi8BddI71j158MTjTbhyNFas0sum0TUXMBtn/vaXUm9261zIke//XZRGiWfnLwFjxYxPlH65Wg0ugAbwajNlXqy3iVvR+fxrIuAlcTt08+ADtD1y9aI7MVtBitFFn2uF7cxtCKb6pPTKM0XL26zlEQ2MZbR3Gle3AYx3r5e3PZRPaQI73YRS1DDj/6nUHuIeeYuw5qlH+Y+iNE6mjZvZ4JCM6hyL0juKIWwJmrQSpeo9rs+ttwdYgmx1P40tw5NgtNcN7Kb8IOq7in1x0256pJrPuL5XNMU5pObctXKkpMn8BhFnmc/2FXT0lbvmu1C1eSgJblKyOwOPFYge9W9rVidJfLWaw9iRYg0LtrLihXr9QMry1AW8O02NlKs18eaLeQgKy6siHRxWeeRIFtx7b7Y1pGzj5yVqWPFQekfVpuv0/+B39uwc50iacn371atq7Zh9aPIWsDYffZ3EASbl/iku+OsmgoshEktWamJ53Gfns8NGKbgcbF9Nnq6wuBqNPoEhlFj4DaInIu7Pp8bMIyyse9trTdGw6HRFX1acQ2LXBLXEpFJ1K2DLdU9mxxcbRTXkMiV4logcroVJj8X2U3ng6xYSlXEAWamBld0o0GSbF8pwthpyNiHLkQmcfH7LreczztTItNgi1I6ZX9T+qnsOBc44Pyv/BNJcg+GYHhjxZz/KXJfbX1z+yLXEncNB0PgFz9kx5RbrPQG+feUDb9908QmX7a66hbd9Va3XDwHo+HcQheL7VF4UQluWDPna1Jkl8TNkOcPsqCHcNGU2DN/F2WPs4TR8/OjCXe9k1vm/Cb89esfsAAuaReEodBUCMzkAZZFAhNdi+yquARq9zE7Fpl4YT3IyhskAfgMltGVyC6LS4RhOMuOOWPi+lma1XXVKWMD4km/Bksh0Ui8WumE8VropqCbA2rgurgZYoCVtk/w4sXrgDKlZy+i6rUawxRtWXJfxCUYY/PsOPr2bRrIA6ygTsMZpmmR+yQuQTmzs2MU+4+A6hvkL1LNAgdoSuS+iZsyzw5YEEwDlnbGBKdM6Y5wqMg9FZc0/E86PqVRdG7BoUMCE/uK3FdxCb4qZbCCsckAJIGfGfsKjkEio2h/hgDbR9crkevPczsmLoGCzpP0GOMbk4IFD8PwCzjITpZcFwfF1RHIhSbaKm7RBY2K7LK44/H6+qlAGAWms7/Dnz+dLJQls1MwREcPLFfWNICecZAl98Qty/ROYCIXeReS5H3fxCV6KTCBbvp6pw8wdtXHjEGB7Mr6sntgx2U2Kzpc49UlFMla91XL5e/gOHuJm9EDkXlxudW8Vy76IHEzHBf5OQzXXhi9Mwk8z/8hiibgKI2Im+GwyCyO15NH6J0DeYIhXlXNdo4dY8v3tizJbQOqgp4dB8KCpT6YOSjwHhMHf9u07rppaA44O6bp34AnyWfpHybgEPvOCplardkF8vQvCBctTS8xafGd7Rw65ddjkdf7kuL4MRiMx/Iqjgk4QFPzuX0UmVNp+oxXr1beWV4Rb7LCdh3a2HFgwzaZJvj18uVU3aGS/Q7OrTiO43OwlLZWYvTFktEl5+fE0sV3QmAubT3ECzgHC2l7mU0fRGZJcpYd42/gGT0LgRPG8pE0s1DgrtZQuS6yrB0NsAovyn2QTf2wiV1+LvbJVdtH81g0k3Y1JJxfgAWYWv3ooiXLGRrk3f65wFt3iHeM6aWt+4hscuM8hiXztkIDfSi9YVMij66hJGNdu+Uqartrg5vAayfQqZ1vqQO05dANNepWkQ3v8Jfzm0WbclbGdfItdchGkTtu1EqRLUjfICeP3ZjfrJFE0w2jFdlQo5ZEtkBcJXq1PYGOUoTDilTCSrURo42ai2xJ4pWCXnXKLuyU3LJDhMiWNKotbaIOrvhgcFbrg4XBlk/nby1xseRd/U11tlqxZ41aY3jn5LG+KIfdKAlbn2BXvBXbi9r37p36WemLt4/QPJ3QWLnBRsuoeRph75FzFbIVU8QEPEZpvNygLy9rD2qBksZmr2Kljnwft1najuqaGzc0ZabJl3jvELXEe9xGTu+Sq/Yl7zoD2/t9K65Z80XXyszONXhaRdPm7c7TF+Kfvj9uFTFzVRS3fa+Z9gefOnEZR4waa467rKWh+3IvcnNY0b6aJSxe5AYoiWvSQ2pWP3qRD0Bjudx4GVulHLwXeU+04o7H+80SNY0X+TCsFjdDJ7L/CbUd3XJc68TNEH1yee2wD4ZUUApiYNvZUDp+Izp3Q2FNH7tek24Teu+sx9OK7PtlAYmotg0FjpxsGzWsmbqhGzhSKiqbu+3dRD9T7pePyppp6VMhvJv2t7HhDX6NUeGyxZKTPgud7vW6U6+bdgD28rrT7Se6HXo3fbpgISy5Y/Va+2S1VaQLB+40fRFZ+K3LQlcK22errQKFPtO67dR1uxQkSZcX31YJe/DSVpeJhsOrKqFpYEJRHRvv/PS37FtlrVrBIx21sCokdKyONItifzAt9o/VysZNolpnsdYVwhKuO0muqArKhrfNgfMZD4JZEsef61b53hUSdBjH54yxM0oyxquSta4y8TwESXLPougjWIS1lc7EYIzyZgbBJZNyQOnfzBcizxc+UxJsKrFKmewppX0chosXy+W89BF0scvlUgQYBlE0oWToaTJtep7i5yfbqqdRCkiWJA/By5f/ssVie7olAzhRyi4TO2DsL05i71u27uATwRsIbyTbRZVxslahcONxPBW5Gcna2stzPaesrWjNswCfbXO/dXC+GCUhYrnL5RsSnaybMtcnq2eydHpMyh/CfjOtV8FXffqcakhhP0qufk7JtF2w0G38D/3HmMKAc792AAAAAElFTkSuQmCC\"","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ password, email }),\r\n  })\r\n    .then((res) => handleResponse(res))\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then((res) => handleResponse(res))\r\n    .then((data) => {\r\n      if (data.token) {\r\n        localStorage.setItem('jwt', data.token);\r\n        return data;\r\n      } else {\r\n        return;\r\n      }\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((res) => handleResponse(res))\r\n    .then((data) => data);\r\n};\r\n\r\nconst handleResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  } else {\r\n    return Promise.reject(`Error: ${res.status}`);\r\n  }\r\n};\r\n","import { useState, useEffect } from 'react';\nimport React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport * as Auth from '../utils/Auth';\n\nconst App = () => {\n  const [isEditProfilePopupOpen, setisEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setisAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setisEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const history = useHistory();\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userData, setUserData] = useState({});\n  const [isInfoTooltip, setIsInfoTooltip] = useState(false);\n  const [statusReg, setStatusReg] = useState('');\n\n  useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    api\n      .getUserData()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      tokenCheck(jwt);\n    }\n    // eslint-disable-next-line\n  }, [loggedIn]);\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .setLike(card._id, isLiked)\n      .then((newCard) => {\n        setCards((cards) => cards.map((item) => (item._id === card._id ? newCard : item)));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleCardDelete = (card) => {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((cards) => cards.filter((item) => item._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleEditProfileClick = () => setisEditProfilePopupOpen(true);\n  const handleAddPlaceClick = () => setisAddPlacePopupOpen(true);\n  const handleEditAvatarClick = () => setisEditAvatarPopupOpen(true);\n  const handleToolTips = () => setIsInfoTooltip(true);\n\n  const closeAllPopups = () => {\n    setisEditProfilePopupOpen(false);\n    setisAddPlacePopupOpen(false);\n    setisEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n    setIsInfoTooltip(false);\n  };\n\n  const handleUpdateUser = (currentUser) => {\n    api\n      .setUserInfo(currentUser.name, currentUser.about)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleUpdateAvatar = (currentUser) => {\n    api\n      .setNewAvatar(currentUser.avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleAddPlaceSubmit = (card) => {\n    api\n      .addCard(card.name, card.link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleLogin = () => {\n    setLoggedIn(true);\n  };\n\n  const tokenCheck = (jwt) => {\n    if (jwt) {\n      Auth.getContent(jwt)\n        .then((res) => {\n          if (res) {\n            setUserData({\n              email: res.data.email,\n            });\n            handleLogin();\n            history.push('/');\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  const signOut = () => {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  };\n\n  const onRegister = (email, password) => {\n    Auth.register(email, password)\n      .then((res) => {\n        if (res.data) {\n          handleToolTips();\n          history.push('/sign-in');\n          setTimeout(closeAllPopups, 2000);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setStatusReg('success');\n        handleToolTips();\n        setTimeout(closeAllPopups, 2000);\n      });\n  };\n\n  const onLogin = (email, password) => {\n    Auth.authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          handleLogin();\n          history.push('/main');\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setStatusReg('success');\n        handleToolTips();\n        setTimeout(closeAllPopups, 2000);\n      });\n  };\n\n  useEffect(() => {\n    const handleCloseByOverlay = (e) => {\n      if (e.target.classList.contains('popup')) {\n        closeAllPopups();\n      }\n    };\n    document.addEventListener('mousedown', handleCloseByOverlay);\n    return () => document.removeEventListener('mousedown', handleCloseByOverlay);\n  });\n\n  useEffect(() => {\n    const handleCloseByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    };\n\n    document.addEventListener('keyup', handleCloseByEscape);\n    return () => document.removeEventListener('keyup', handleCloseByEscape);\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Header userData={userData} signOut={signOut} />\n          {isInfoTooltip && (\n            <InfoTooltip isOpen={isInfoTooltip} onClose={closeAllPopups} statusReg={statusReg} />\n          )}\n          <Switch>\n            <Route exact path=\"/sign-in\">\n              <Login handleLogin={handleLogin} title=\"Вход\" button=\"Войти\" onLogin={onLogin} />\n            </Route>\n            <Route exact path=\"/sign-up\">\n              <Register title=\"Регистрация\" button=\"Зарегистрироваться\" onRegister={onRegister}/>\n            </Route>\n            <Route exact path=\"/\">\n              {loggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/sign-in\" />}\n            </Route>\n            <ProtectedRoute\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={setSelectedCard}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              cards={cards}\n              exact\n              path=\"/main\"\n              loggedIn={loggedIn}\n              component={Main}></ProtectedRoute>\n          </Switch>\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <PopupWithForm name=\"delete\" title=\"Вы уверены?\" onClose={closeAllPopups} />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.jsx';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}