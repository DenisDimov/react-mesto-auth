{"version":3,"sources":["image/logo.svg","components/Header.jsx","contexts/CurrentUserContext.jsx","components/Card.jsx","components/Preloader/Preloader.jsx","components/Main.jsx","components/Footer.jsx","components/PopupWithForm.jsx","components/ImagePopup.jsx","utils/Api.js","hooks/useForm.jsx","components/EditProfilePopup.jsx","components/EditAvatarPopup.jsx","components/AddPlacePopup.jsx","components/Login.jsx","components/Register.jsx","components/ProtectedRoute.jsx","components/InfoTooltip.jsx","image/success.png","image/fail.png","utils/Auth.js","components/App.jsx","index.js"],"names":["Header","userData","signOut","email","className","src","Logo","alt","exact","path","to","onClick","CurrentUserContext","createContext","Card","onCardClick","onCardLike","card","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","type","name","length","Preloader","Main","onEditProfile","onAddPlace","onEditAvatar","cards","isLoader","avatar","about","map","Footer","date","Date","getFullYear","PopupWithForm","title","isOpen","children","onClose","onSubmit","buttonText","isDisabled","noValidate","disabled","ImagePopup","api","config","this","_url","url","_headers","headers","fetch","method","then","_handleResponse","body","JSON","stringify","id","like","cardId","res","ok","json","Promise","reject","status","authorization","useFormWithValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","e","input","target","value","prevState","validationMessage","closest","checkValidity","EditProfilePopup","onUpdateUser","useEffect","description","preventDefault","required","minLength","onChange","placeholder","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","place","Link","maxLength","Login","button","onLogin","password","autoComplete","Register","onRegister","ProtectedRoute","Component","component","props","loggedIn","InfoTooltip","statusReg","BASE_URL","handleResponse","App","isEditProfilePopupOpen","setisEditProfilePopupOpen","isAddPlacePopupOpen","setisAddPlacePopupOpen","isEditAvatarPopupOpen","setisEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","history","useHistory","setLoggedIn","setUserData","isInfoTooltip","setIsInfoTooltip","setStatusReg","setIsLoader","getInitialCards","catch","err","console","log","finally","getUserData","data","jwt","localStorage","getItem","tokenCheck","handleToolTips","closeAllPopups","handleLogin","token","Accept","Authorization","push","handleCloseByOverlay","classList","contains","document","addEventListener","removeEventListener","handleCloseByEscape","key","Provider","removeItem","setItem","Auth","setTimeout","setLike","newCard","item","deleteCard","filter","setUserInfo","addCard","setNewAvatar","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.626af0da.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import Logo from '../image/logo.svg';\r\nimport { Link, Route } from 'react-router-dom';\r\n\r\nconst Header = ({ userData, signOut }) => {\r\n  const { email } = userData;\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={Logo} alt=\"лого\" />\r\n      <Route exact path=\"/sign-in\">\r\n        <Link to=\"sign-up\" className=\"header__title\">\r\n          Регистрация\r\n        </Link>\r\n      </Route>\r\n      <Route exact path=\"/sign-up\">\r\n        <Link to=\"sign-in\" className=\"header__title\">\r\n          Войти\r\n        </Link>\r\n      </Route>\r\n      <Route exact path=\"/main\">\r\n        <p className=\"header__profile\">{email}</p>\r\n        <button onClick={signOut} className=\"header__title\">\r\n          Выйти\r\n        </button>\r\n      </Route>\r\n    </header>\r\n  );\r\n};\r\nexport default Header;\r\n","import {createContext} from \"react\";\r\n\r\nexport const CurrentUserContext = createContext();","import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useContext } from 'react';\r\n\r\nconst Card = ({ onCardClick, onCardLike, card, onCardDelete }) => {\r\n  const handleClick = () => onCardClick(card);\r\n  const handleLikeClick = () => onCardLike(card);\r\n  const handleDeleteClick = () => onCardDelete(card);\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `card__delete ${isOwn ? `card__delete_active` : ''}`;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `card__icon ${isLiked ? `card__icon_active` : `card__icon`}`;\r\n\r\n  return (\r\n    <li className=\"card__item\">\r\n      <div\r\n        className=\"card__image\"\r\n        style={{ backgroundImage: `url(${card.link})` }}\r\n        onClick={handleClick}></div>\r\n      <button\r\n        className={cardDeleteButtonClassName}\r\n        type=\"button\"\r\n        onClick={handleDeleteClick}></button>\r\n      <div className=\"card__inner\">\r\n        <h3 className=\"card__title\">{card.name}</h3>\r\n        <div className=\"card__container-likes\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}></button>\r\n          <p className=\"card__like\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import './Preloader.css';\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n      <div className=\"block\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader\r\n","import Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useContext } from 'react';\r\nimport Preloader from './Preloader/Preloader';\r\n\r\nconst Main = ({\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n  cards,\r\n  isLoader,\r\n}) => {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__avatar\" />\r\n        <div onClick={onEditAvatar} className=\"profile__avatar-edit\"></div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <button onClick={onEditProfile} className=\"profile__btn\" type=\"button\"></button>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button onClick={onAddPlace} className=\"profile__add-card\" type=\"button\"></button>\r\n      </section>\r\n      <section className=\"cards\">\r\n        {isLoader ? (\r\n          <Preloader />\r\n        ) : (\r\n          <ul className=\"card\">\r\n            {cards.map((card) => {\r\n              return (\r\n                <Card\r\n                  key={card._id}\r\n                  onCardClick={onCardClick}\r\n                  onCardLike={onCardLike}\r\n                  card={card}\r\n                  onCardDelete={onCardDelete}\r\n                />\r\n              );\r\n            })}\r\n          </ul>\r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","const Footer = () => {\r\n\r\n  const date = new Date()\r\n\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__paragraph\">&copy;{date.getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","const PopupWithForm = ({ name, title, isOpen, children, onClose, onSubmit, buttonText, isDisabled }) => {\r\n  return (\r\n    <div className={`popup ${isOpen ? `popup_opened` : ''}`}>\r\n      <div className=\"popup__container\">\r\n        <button className=\"popup__close popup__close_edit\" type=\"button\" onClick={onClose}></button>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form className=\"form form_type_edit popup__form\" name={`${name}`} onSubmit={onSubmit} noValidate>\r\n          {children}\r\n          <button className={`form__btn popup__button ${isDisabled && `form__submit_inactive`}`} type=\"submit\" disabled={isDisabled}>\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopupWithForm;\r\n","const ImagePopup = ({ card, onClose }) => {\r\n  return (\r\n    <div className={`popup popup_type_image ${card && 'popup_opened'}`}>\r\n      <div className=\"popup__container popup__container_type_image\">\r\n        <button\r\n          onClick={onClose}\r\n          className=\"popup__close popup__close_image\"\r\n          type=\"button\"></button>\r\n        <img alt={`${card ? card.name : ''}`} className=\"popup__image\" src={`${card ? card.link : ''}`}></img>\r\n        <h3 className=\"popup__image-title\">{`${card ? card.name : ''}`}</h3>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(config) {\r\n    this._url = config.url;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  getUserData() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setUserInfo(name, about) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    }).then(this._handleResponse);;\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setLike(id, like) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: like ? 'DELETE' : 'PUT',\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setNewAvatar(avatar) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatar,\r\n      }),\r\n    }).then(this._handleResponse);;\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n}\r\n\r\n\r\nconst api = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-26\",\r\n  headers: {\r\n    authorization: \"8e37e821-e67f-473b-8051-550ef708d095\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api\r\n","import { useCallback, useState } from 'react';\r\n\r\nexport const useFormWithValidation = () => {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const input = e.target;\r\n    const value = input.value;\r\n    const name = input.name;\r\n\r\n    setValues((prevState) => ({ ...prevState, [name]: value }));\r\n    setErrors((prevState) => ({ ...prevState, [name]: input.validationMessage }));\r\n    setIsValid(input.closest('form').checkValidity());\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return { values, errors, isValid, handleChange, setValues, resetForm };\r\n};\r\n","import PopupWithForm from './PopupWithForm';\r\nimport { useEffect, useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\n\r\nconst EditProfilePopup = ({ isOpen, onClose, onUpdateUser }) => {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const { values, setValues, handleChange, errors, isValid, resetForm } = useFormWithValidation();\r\n\r\n  useEffect(() => {\r\n    resetForm();\r\n  }, [isOpen, resetForm]);\r\n\r\n  useEffect(() => {\r\n    setValues({\r\n      ...values,\r\n      name: currentUser.name,\r\n      description: currentUser.about,\r\n    });\r\n    // eslint-disable-next-line\r\n  }, [currentUser, isOpen]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name: values.name,\r\n      about: values.description,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isDisabled={!isValid}\r\n      onSubmit={handleSubmit}\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText=\"Сохранить\">\r\n      <input\r\n        required\r\n        minLength=\"2\"\r\n        onChange={handleChange}\r\n        id=\"name\"\r\n        name=\"name\"\r\n        value={values.name || ''}\r\n        type=\"text\"\r\n        placeholder=\"Имя\"\r\n        className={`form__item popup__input ${errors.name && 'popup__input_type_error'}`}\r\n      />\r\n      <span\r\n        className={`form__input-error ${errors.name && 'form__input-error_active'}`}\r\n        id=\"name-error\">\r\n        {errors.name}\r\n      </span>\r\n      <input\r\n        minLength=\"2\"\r\n        required\r\n        onChange={handleChange}\r\n        id=\"job\"\r\n        name=\"description\"\r\n        value={values.description || ''}\r\n        type=\"text\"\r\n        placeholder=\"Вид деятельности\"\r\n        className={`form__item popup__input ${errors.description && 'popup__input_type_error'}`}\r\n      />\r\n      <span\r\n        className={`form__input-error ${errors.description && 'form__input-error_active'}`}\r\n        id=\"job-error\">\r\n        {errors.description}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditProfilePopup;\r\n","import { useEffect } from 'react';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nconst EditAvatarPopup = ({ isOpen, onClose, onUpdateAvatar }) => {\r\n  const { values, handleChange, errors, isValid, resetForm } = useFormWithValidation();\r\n\r\n  useEffect(() => {\r\n    resetForm()\r\n  }, [isOpen, resetForm])\r\n\r\n  const HandleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: values.url,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={HandleSubmit}\r\n      title=\"Обновить аватар\"\r\n      isDisabled={!isValid}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText=\"Сохранить\">\r\n      <input\r\n        onChange={handleChange}\r\n        required\r\n        name=\"url\"\r\n        id=\"avatar\"\r\n        value={values.url || ''}\r\n        type=\"url\"\r\n        placeholder=\"Название\"\r\n        className={`form__item popup__input ${errors.url && 'popup__input_type_error'}`}\r\n      />\r\n      <span\r\n        className={`form__input-error ${errors.url && 'form__input-error_active'}`}\r\n        id=\"avatar-error\">\r\n        {errors.url}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditAvatarPopup;\r\n","import PopupWithForm from './PopupWithForm';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\nimport { useEffect } from 'react';\r\n\r\nconst AddPlacePopup = ({ isOpen, onClose, onAddPlace }) => {\r\n  const { values, handleChange, errors, isValid, resetForm } = useFormWithValidation();\r\n\r\n  useEffect(() => {\r\n    resetForm()\r\n  }, [isOpen, resetForm])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name: values.place,\r\n      link: values.Link,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isDisabled={!isValid}\r\n      name=\"new-card\"\r\n      title=\"Новое место\"\r\n      isOpen={isOpen}\r\n      onSubmit={handleSubmit}\r\n      onClose={onClose}\r\n      buttonText=\"Сохранить\">\r\n      <input\r\n        onChange={handleChange}\r\n        required\r\n        minLength='2'\r\n        maxLength='30'\r\n        value={values.place || ''}\r\n        type=\"text\"\r\n        id=\"place-name\"\r\n        name=\"place\"\r\n        placeholder=\"Название\"\r\n        className={`form__item popup__input ${errors.place && 'popup__input_type_error'}`}\r\n      />\r\n      <span className={`form__input-error ${errors.place && 'form__input-error_active'}`} id=\"place-name-error\">\r\n        {errors.place}\r\n      </span>\r\n      <input\r\n        onChange={handleChange}\r\n        required\r\n        value={values.Link || ''}\r\n        type=\"url\"\r\n        id=\"place-link\"\r\n        name=\"Link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        className={`form__item popup__input ${errors.Link && 'popup__input_type_error'}`}\r\n      />\r\n      <span className={`form__input-error ${errors.Link && 'form__input-error_active'}`} id=\"place-link-error\">\r\n        {errors.Link}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default AddPlacePopup;\r\n","import { useFormWithValidation } from '../hooks/useForm';\r\n\r\nconst Login = ({ title, button, onLogin }) => {\r\n  const { values, handleChange, errors, isValid } = useFormWithValidation();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!values.email || !values.password) {\r\n      return;\r\n    }\r\n    onLogin(values.email, values.password);\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <p className=\"auth__header\">{title}</p>\r\n      <form className=\"auth__form\" onSubmit={handleSubmit} noValidate>\r\n        <input\r\n          required\r\n          id=\"email\"\r\n          name=\"email\"\r\n          className={`auth__input ${errors.email && 'auth__input_type_error'}`}\r\n          placeholder=\"Email\"\r\n          type=\"email\"\r\n          value={values.email || ''}\r\n          onChange={handleChange}></input>\r\n        <span\r\n          className={`auth__input-error ${errors.email && 'auth__input-error_active'}`}\r\n          id=\"password-error\">\r\n          {errors.email}\r\n        </span>\r\n        <input\r\n          id=\"password\"\r\n          noValidate\r\n          required\r\n          minLength=\"4\"\r\n          name=\"password\"\r\n          className={`auth__input ${errors.password && 'auth__input_type_error'}`}\r\n          placeholder=\"Password\"\r\n          type=\"password\"\r\n          autoComplete=\"off\"\r\n          value={values.password || ''}\r\n          onChange={handleChange}></input>\r\n        <span\r\n          className={`auth__input-error ${errors.password && 'auth__input-error_active'}`}\r\n          id=\"password-error\">\r\n          {errors.password}\r\n        </span>\r\n        <button className={`auth__btn ${!isValid && 'auth__btn_inactive'}`} disabled={!isValid}>\r\n          {button}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { Link } from 'react-router-dom';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\n\r\nconst Register = ({ title, button, onRegister }) => {\r\n  const { values, handleChange, errors, isValid } = useFormWithValidation();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onRegister(values.email, values.password);\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <p className=\"auth__header\">{title}</p>\r\n      <form className=\"auth__form\" onSubmit={handleSubmit} noValidate>\r\n        <input\r\n          required\r\n          id=\"email\"\r\n          name=\"email\"\r\n          className={`auth__input ${errors.email && 'auth__input_type_error'}`}\r\n          placeholder=\"Email\"\r\n          type=\"email\"\r\n          value={values.email || ''}\r\n          onChange={handleChange}></input>\r\n        <span\r\n          className={`auth__input-error ${errors.email && 'auth__input-error_active'}`}\r\n          id=\"email-error\">\r\n          {errors.email}\r\n        </span>\r\n        <input\r\n          required\r\n          noValidate\r\n          minLength=\"4\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          className={`auth__input ${errors.password && 'auth__input_type_error'}`}\r\n          placeholder=\"Password\"\r\n          type=\"password\"\r\n          value={values.password || ''}\r\n          onChange={handleChange}\r\n          autoComplete=\"off\"></input>\r\n        <span\r\n          className={`auth__input-error ${errors.password && 'auth__input-error_active'}`}\r\n          id=\"password-error\">\r\n          {errors.password}\r\n        </span>\r\n        <button className={`auth__btn ${!isValid && 'auth__btn_inactive'}`} disabled={!isValid}>\r\n          {button}\r\n        </button>\r\n      </form>\r\n      <div className=\"auth__signin\">\r\n        <p className=\"auth__subtitle\">Уже зарегистрированы?</p>\r\n        <Link to=\"sign-in\" className=\"auth__login-link\">\r\n          Войти\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>{() => (props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />)}</Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import success from '../image/success.png';\r\nimport fail from '../image/fail.png';\r\n\r\nconst InfoTooltip = ({ isOpen, onClose, statusReg }) => {\r\n  return (\r\n    <div className={`popup ${isOpen ? `popup_opened` : ''}`}>\r\n      <div className=\"popup__container popup__container_type_reg\">\r\n        {statusReg === '' ? (\r\n          <>\r\n            <img src={success} className=\"popup__registration\" alt=\"успешно\"></img>\r\n            <button onClick={onClose} className=\"popup__close\"></button>\r\n            <p className=\"popup__title popup__title_type_reg\">Вы успешно зарегистрировались!</p>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <img src={fail} className=\"popup__registration\" alt=\"попробуйте еще раз\"></img>\r\n            <button onClick={onClose} className=\"popup__close\"></button>\r\n            <p className=\"popup__title popup__title_type_reg\">\r\n              Что-то пошло не так! Попробуйте еще раз!\r\n            </p>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InfoTooltip;\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ password, email }),\r\n  })\r\n    .then((res) => handleResponse(res))\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then((res) => handleResponse(res))\r\n    .then((data) => {\r\n      if (data.token) {\r\n        localStorage.setItem('jwt', data.token);\r\n        return data;\r\n      } else {\r\n        return;\r\n      }\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((res) => handleResponse(res))\r\n    .then((data) => data);\r\n};\r\n\r\nconst handleResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  } else {\r\n    return Promise.reject(`Error: ${res.status}`);\r\n  }\r\n};\r\n","import { useState, useEffect } from 'react';\nimport React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport * as Auth from '../utils/Auth';\n\nconst App = () => {\n  const [isEditProfilePopupOpen, setisEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setisAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setisEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const history = useHistory();\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userData, setUserData] = useState({});\n  const [isInfoTooltip, setIsInfoTooltip] = useState(false);\n  const [statusReg, setStatusReg] = useState('');\n  const [isLoader, setIsLoader] = useState(false);\n\n  useEffect(() => {\n    setIsLoader(true);\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoader(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    api\n      .getUserData()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      tokenCheck(jwt);\n    }\n    // eslint-disable-next-line\n  }, [loggedIn]);\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .setLike(card._id, isLiked)\n      .then((newCard) => {\n        setCards((cards) => cards.map((item) => (item._id === card._id ? newCard : item)));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleCardDelete = (card) => {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((cards) => cards.filter((item) => item._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleEditProfileClick = () => setisEditProfilePopupOpen(true);\n  const handleAddPlaceClick = () => setisAddPlacePopupOpen(true);\n  const handleEditAvatarClick = () => setisEditAvatarPopupOpen(true);\n  const handleToolTips = () => setIsInfoTooltip(true);\n\n  const closeAllPopups = () => {\n    setisEditProfilePopupOpen(false);\n    setisAddPlacePopupOpen(false);\n    setisEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n    setIsInfoTooltip(false);\n  };\n\n  const handleUpdateUser = (currentUser) => {\n    api\n      .setUserInfo(currentUser.name, currentUser.about)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleUpdateAvatar = (currentUser) => {\n    api\n      .setNewAvatar(currentUser.avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleAddPlaceSubmit = (card) => {\n    api\n      .addCard(card.name, card.link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleLogin = () => {\n    setLoggedIn(true);\n  };\n\n  const tokenCheck = (jwt) => {\n    if (jwt) {\n      Auth.getContent(jwt)\n        .then((res) => {\n          if (res) {\n            setUserData({\n              email: res.data.email,\n            });\n            handleLogin();\n            history.push('/');\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  const signOut = () => {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  };\n\n  const onRegister = (email, password) => {\n    Auth.register(email, password)\n      .then((res) => {\n        if (res.data) {\n          handleToolTips();\n          history.push('/sign-in');\n          setTimeout(closeAllPopups, 2000);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setStatusReg('success');\n        handleToolTips();\n        setTimeout(closeAllPopups, 2000);\n      });\n  };\n\n  const onLogin = (email, password) => {\n    Auth.authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          handleLogin();\n          history.push('/main');\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setStatusReg('success');\n        handleToolTips();\n        setTimeout(closeAllPopups, 2000);\n      });\n  };\n\n  useEffect(() => {\n    const handleCloseByOverlay = (e) => {\n      if (e.target.classList.contains('popup')) {\n        closeAllPopups();\n      }\n    };\n    document.addEventListener('mousedown', handleCloseByOverlay);\n    return () => document.removeEventListener('mousedown', handleCloseByOverlay);\n  });\n\n  useEffect(() => {\n    const handleCloseByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    };\n\n    document.addEventListener('keyup', handleCloseByEscape);\n    return () => document.removeEventListener('keyup', handleCloseByEscape);\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Header userData={userData} signOut={signOut} />\n          {isInfoTooltip && (\n            <InfoTooltip isOpen={isInfoTooltip} onClose={closeAllPopups} statusReg={statusReg} />\n          )}\n          <Switch>\n            <Route exact path=\"/sign-in\">\n              <Login handleLogin={handleLogin} title=\"Вход\" button=\"Войти\" onLogin={onLogin} />\n            </Route>\n            <Route exact path=\"/sign-up\">\n              <Register title=\"Регистрация\" button=\"Зарегистрироваться\" onRegister={onRegister} />\n            </Route>\n            <Route exact path=\"/\">\n              {loggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/sign-in\" />}\n            </Route>\n            <ProtectedRoute\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={setSelectedCard}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              isLoader={isLoader}\n              cards={cards}\n              exact\n              path=\"/main\"\n              loggedIn={loggedIn}\n              component={Main}></ProtectedRoute>\n          </Switch>\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <PopupWithForm name=\"delete\" title=\"Вы уверены?\" onClose={closeAllPopups} />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.jsx';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}